<!-- PAGINATION SECTION -->
<!-- <div class="pagination">
    <div>
      <button
        (click)="changePage(currentPage - 1)"
        [disabled]="currentPage === 1"
      >
        Previous
      </button>
      <span>Page {{ currentPage }} of {{ totalPages }}</span>
      <button
        (click)="changePage(currentPage + 1)"
        [disabled]="currentPage === totalPages"
      >
        Next
      </button>
      <label for="pageSize">Page size:</label>
      <select
        #pageSize
        name="pageSize"
        (change)="changePageSize(pageSize.value)"
      >
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>
    </div>
    <div>
      <label for="category">Category:</label>
      <select
        #category
        name="pageSize"
        (change)="changeCategory(category.value)"
      >
        <option value="All" [defaultSelected]="true">Wszystkie</option>
        <option
          *ngFor="let category of avalibleCategories"
          [value]="category.name"
        >
          {{ category.name }}
        </option>
      </select>

      <label for="minPrice">Min price:</label>
      <input
        id="minPrice"
        type="text"
        [(ngModel)]="minPrice"
        (change)="getPageableProducts()"
        class="price"
      />

      <label for="maxPrice">Max price:</label>
      <input
        id="maxPrice"
        type="text"
        [(ngModel)]="maxPrice"
        (change)="getPageableProducts()"
        class="price"
      />
    </div>
    <div>
      <label for="sort">Sortuj po:</label>
      <select
        id="sortBy"
        name="sortBy"
        (change)="getPageableProducts()"
        [(ngModel)]="sortBy"
      >
        <option value="name" [defaultSelected]="true">Nazwa</option>
        <option value="price">Cena</option>
      </select>

      <label for="order">Porządkuj:</label>
      <select
        id="order"
        name="order"
        (change)="getPageableProducts()"
        [(ngModel)]="order"
      >
        <option value="asc" [defaultSelected]="true">Rosnąco</option>
        <option value="desc">Malejąco</option>
      </select>
    </div>
    <p>Dostępne produkty: {{ totalAmountOfItems }}</p>
  </div> -->

<div class="custom-container">
  <div class="row mb-3">
    <!-- ITEMS PER PAGE -->
    <div class="col-auto">
      <label for="itemsPerPage" class="form-label">Ilość:</label>
      <select
        id="itemsPerPage"
        [(ngModel)]="itemsPerPage"
        (change)="getPageableProducts()"
        class="form-select"
      >
        <option [value]="5">5</option>
        <option [value]="10">10</option>
        <option [value]="15">15</option>
        <option [value]="20">20</option>
      </select>
    </div>
    <!-- SORT BY -->
    <div class="col-auto">
      <label for="sortBy" class="form-label">Sortuj po:</label>
      <select
        id="sortBy"
        [(ngModel)]="sortBy"
        (change)="getPageableProducts()"
        class="form-select"
      >
        <option value="name">Nazwa</option>
        <option value="price">Cena</option>
      </select>
    </div>
    <!-- ORDER BY -->
    <div class="col-auto">
      <label for="orderBy" class="form-label">Kolejność:</label>
      <select
        id="orderBy"
        [(ngModel)]="order"
        (change)="getPageableProducts()"
        class="form-select"
      >
        <option value="asc">Rosnąco</option>
        <option value="dsc">Malejąco</option>
      </select>
    </div>
    <!-- CATEGORY -->
    <div class="col-auto">
      <label for="category" class="form-label">Kategoria:</label>
      <select
        id="category"
        [(ngModel)]="category"
        (change)="getPageableProducts()"
        class="form-select"
      >
        <option value="All">Wszystkie</option>
        <option
          *ngFor="let category of avalibleCategories"
          [value]="category.name"
        >
          {{ category.name }}
        </option>
      </select>
    </div>
    <!-- MIN PRICE -->
    <div class="col-auto">
      <label for="minPrice" class="form-label">Minimalna cena:</label>
      <input
        type="number"
        id="minPrice"
        [(ngModel)]="minPrice"
        (input)="getPageableProducts()"
        class="form-control w-50"
        placeholder="0"
      />
    </div>
    <!-- MAX PRICE -->
    <div class="col-auto">
      <label for="maxPrice" class="form-label">Minimalna cena:</label>
      <input
        type="number"
        id="minPrice"
        [(ngModel)]="maxPrice"
        (input)="getPageableProducts()"
        class="form-control w-50"
        placeholder="1000"
      />
    </div>
  </div>

  <!-- PAGINATION -->
  <div class="d-flex justify-content-center">
    <pagination
      [boundaryLinks]="true"
      [totalItems]="totalAmountOfItems"
      [itemsPerPage]="itemsPerPage"
      (pageChanged)="pageChanged($event)"
      [(ngModel)]="currentPage"
      [maxSize]="10"
      previousText="&lsaquo;"
      nextText="&rsaquo;"
      firstText="&laquo;"
      lastText="&raquo;"
    >
    </pagination>
  </div>

  <!-- PRODUCTS LIST SECTION -->
  <div class="productsList">
    <loading-spinner *ngIf="isLoading" />

    <ng-container *ngIf="products.length > 0 && !isLoading">
      <app-product-item
        *ngFor="let productEl of products"
        [id]="productEl.id"
        [name]="productEl.name"
        [price]="productEl.price"
        [photos]="productEl.photos"
        [mainPhotoId]="productEl.mainPhotoId"
      >
      </app-product-item>
    </ng-container>

    <div *ngIf="products.length === 0 && !isLoading">
      <h2>Nie znaleziono produktów!</h2>
      <p>Spróbuj zmienić filtry wyszukiwania.</p>
    </div>
  </div>

  <!-- PAGINATION -->
  <div
    class="d-flex justify-content-center"
    *ngIf="products.length > 0 && !isLoading"
  >
    <pagination
      [boundaryLinks]="true"
      [totalItems]="totalAmountOfItems"
      [itemsPerPage]="itemsPerPage"
      (pageChanged)="pageChanged($event)"
      [(ngModel)]="currentPage"
      [maxSize]="10"
      previousText="&lsaquo;"
      nextText="&rsaquo;"
      firstText="&laquo;"
      lastText="&raquo;"
    >
    </pagination>
  </div>
</div>
